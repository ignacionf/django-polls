<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Polls</title>
    <meta name="description" content="Polls">

    <link rel="stylesheet" href="https://unpkg.com/chota">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <style>
        .ui-menu {
            border: 1px solid gray;
            background-color: white;
        }
    </style>

</head>

<body>

    <div style="margin: 50px;">
        <form action="{% url "polls:index" %}">
        <div class="row">
            <div class="col-1">Search:</div>
            <div class="col-6"><input type="text" name="q" id="search" /></div>
            </div>
        </div>
        </form>
        {% block "content" %}
        {% endblock %}
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    {% block "js" %}
    <script>
    $( function() {
        $( "#search" ).autocomplete({
            source:function(request,response){
                $.ajax({
                    url:"/autocomplete/",
                    type:"GET",
                    dataType:"json",
                    data:{
                        term: request.term
                    },
                    success:function(data){
                        response(data['options']);
                    }
                })
            }
        });
    });
    </script>
    {% endblock %}
</body>
</html>
